---
id: docker-work
title: Docker - 仕組み
sidebar_label: 仕組み
description: Dockerの仕組みページ
keywords:
  - Docker
---

## 概要
Dockerは、ホストOS上でコンテナという仮想環境を作成して管理する。  
このコンテナは従来のホスト型仮想環境のようにゲストOSを使うのでなく、ホストOSのカーネルを使用して動作する。そのため、動作は比較的軽量。

コンテナはイメージというコンテナの土台となるものをベースとして作成されるため、このイメージを共有することで、同様の環境を再現することや環境の作り直しも容易に行える。

## 従来の仮想化（ホスト型）とコンテナ型仮想化の比較
主な違いとしては以下のようなものがある。

### 構成
|ホスト型仮想化|コンテナ型仮想化|
|---|---|
|VM1（複数可能）<br />　アプリA<br />　バイナリ/ライブラリ<br />　ゲストOS<br />ハイパーバイザー<br />ホストOS<br />インフラストラクチャー|コンテナ１（複数可能）<br />　アプリA<br />　バイナリ/ライブラリ<br />Docker Engine<br />ホストOS<br />インフラストラクチャー|

### 仮想化のオーバーヘッド
|ホスト型仮想化|コンテナ型仮想化|
|---|---|
|リソース（CPUやメモリの使用率など）の面で、オーバーヘッドが多く、起動や停止にも時間がかかる。|コンテナはアプリケーション実行に必要な物だけを含み、ホストOSのカーネルを使用するため、動作が早くリソースの使用率も少なくて済む。|

### アプリケーション実行の再現性
|ホスト型仮想化|コンテナ型仮想化|
|---|---|
|仮想マシンの環境の違いにより、アプリケーションが動作しなくなることがまれに発生する。|特定のアプリケーションを動作するために必要な物は、Dockerイメージにまとまっており、同じDockerイメージからコンテナを起動する限り、環境が変わっても同様に動作する。|

### OSの自由度
|ホスト型仮想化|コンテナ型仮想化|
|---|---|
|仮想マシン上で任意のOSを動作させることができる|コンテナはホストOSのカーネルを使用して動作するので、Windows OS上で直接Linuxコンテナは動作させることができない。またLinux OS上で直接Windowsコンテナも動作させることもできない|

### 分離レベル
|ホスト型仮想化|コンテナ型仮想化|
|---|---|
|ハードウェアレベルで仮想化されており、ホストOSや仮想マシン間の分離レベルが高く、それぞれが影響を受けにくい。|OSの機能を使用した仮想化は、従来の仮想化に比べて分離レベルは低い。|
