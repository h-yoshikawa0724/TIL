## デプロイ
Next.js をデプロイする方法として、Next.js の開発元が開発している Vercel を利用するのが一番お手軽。

Vercelは、静的および JAMstack デプロイメントとサーバーレス機能をサポートするグローバル CDN を備えたオールインワンプラットフォーム。

### デプロイ手順
1. Vercel アカウント作成
2. Vercel にリポジトリをインポート（次のような設定値があるが、基本的には Vercel が自動検知してくれる）
  - Project Name
  - Root Directory
  - Build Command
  - Output Directory
  - Development Command
3. デプロイ実行


### Vercel で Next.js を使うメリット
- 静的生成とアセット（JS、CSS、画像、フォントなど）を使用するページは、非常に高速な Vercel EdgeNetwork から自動的に提供される
- サーバーサイドレンダリングと API ルートを使用するページは、自動的に分離されたサーバーレス関数になる。これにより、ページのレンダリングと API リクエストを無限にスケーリングできる

### Vercel の主な機能
- カスタムドメイン：Vercel にデプロイしたら、Next.js アプリにカスタムドメインを割り当てられる
- 環境変数：Vercel で環境変数を設定できる
- 自動 HTTPS：HTTPS はデフォルトで有効になっており（カスタムドメインを含む）、追加の構成は必要ない + SSL 証明書を自動更新
- プレビューデプロイ：プルリクを出した時に、マージした場合のプレビューを確認できる

### Vercel 以外のホスティングサービスでデプロイする場合
Next.js アプリをビルド
```
$ yarn build
```

ビルド後、start スクリプトは、ハイブリッドページをサポートするNode.js サーバーを起動し、静的に生成されたページとサーバー側でレンダリングされたページの両方、およびAPIルートを提供する
```
$ yarn start
```